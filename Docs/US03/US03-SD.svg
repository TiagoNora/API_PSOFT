<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="812px" preserveAspectRatio="none" style="width:1451px;height:812px;background:#FFFFFF;" version="1.1" viewBox="0 0 1451 812" width="1451px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="630.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="600.3887" style="stroke:#181818;stroke-width:1.0;" width="10" x="293" y="112.7988"/><rect fill="#FFFFFF" height="541.7676" style="stroke:#181818;stroke-width:1.0;" width="10" x="627" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="948" y="171.4199"/><rect fill="#FFFFFF" height="191.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1186.5" y="530.3242"/><rect fill="#FFFFFF" height="162.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1191.5" y="559.6348"/><rect fill="#FFFFFF" height="133.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="588.9453"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201.5" y="618.2559"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="254.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="312.9727"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="371.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="430.2148"/><rect height="439.8359" style="stroke:#000000;stroke-width:1.5;fill:none;" width="937" x="508" y="215.7305"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="81.4883" y2="731.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="298" x2="298" y1="81.4883" y2="731.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="632" x2="632" y1="81.4883" y2="731.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="953" x2="953" y1="81.4883" y2="731.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1191" x2="1191" y1="498.2695" y2="731.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1372" x2="1372" y1="81.4883" y2="731.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="78.5352">Client</text><ellipse cx="28" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,21.5 L28,48.5 M15,29.5 L41,29.5 M28,48.5 L15,63.5 M28,48.5 L41,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="743.7227">Client</text><ellipse cx="28" cy="755.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,763.1758 L28,790.1758 M15,771.1758 L41,771.1758 M28,790.1758 L15,805.1758 M28,790.1758 L41,805.1758 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="226" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="233" y="70.5352">ProductsController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="226" y="730.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="233" y="750.7227">ProductsController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="518" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="525" y="70.5352">productService:ProductsService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="518" y="730.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="525" y="750.7227">productService:ProductsService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240" x="833" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="840" y="70.5352">productRepo:ProductsRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240" x="833" y="730.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="840" y="750.7227">productRepo:ProductsRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1083" y="730.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1090" y="750.7227">productDetails:ProductDetails</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="1310" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1317" y="70.5352">product:Product</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="1310" y="730.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1317" y="750.7227">product:Product</text><rect fill="#FFFFFF" height="630.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="600.3887" style="stroke:#181818;stroke-width:1.0;" width="10" x="293" y="112.7988"/><rect fill="#FFFFFF" height="541.7676" style="stroke:#181818;stroke-width:1.0;" width="10" x="627" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="948" y="171.4199"/><rect fill="#FFFFFF" height="191.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1186.5" y="530.3242"/><rect fill="#FFFFFF" height="162.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1191.5" y="559.6348"/><rect fill="#FFFFFF" height="133.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="588.9453"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201.5" y="618.2559"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="254.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="312.9727"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="371.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="430.2148"/><polygon fill="#181818" points="281,108.7988,291,112.7988,281,116.7988,285,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="287" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="53" y="108.0566">GET /products/search/{skuOrName}</text><polygon fill="#181818" points="615,138.1094,625,142.1094,615,146.1094,619,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="621" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="310" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="323" y="137.3672">productService.findByNameOrSuk(skuOrName)</text><polygon fill="#181818" points="936,167.4199,946,171.4199,936,175.4199,940,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="942" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="644" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="657" y="166.6777">productRepo.findByNameOrSuk(skuOrName)</text><polygon fill="#181818" points="648,196.7305,638,200.7305,648,204.7305,644,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="952" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="654" y="195.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="667" y="195.9883">list</text><path d="M508,215.7305 L582,215.7305 L582,223.041 L572,233.041 L508,233.041 L508,215.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="439.8359" style="stroke:#000000;stroke-width:1.5;" width="937" x="508" y="215.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="523" y="229.2988">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="150" x="597" y="228.3652">[for each 'product' in 'list']</text><polygon fill="#181818" points="1355.5,250.3516,1365.5,254.3516,1355.5,258.3516,1359.5,254.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1361.5" y1="254.3516" y2="254.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="644" y="249.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="657" y="249.6094">getSku()</text><polygon fill="#181818" points="648,279.6621,638,283.6621,648,287.6621,644,283.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="1371.5" y1="283.6621" y2="283.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="654" y="278.9199">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="667" y="278.9199">sku</text><polygon fill="#181818" points="1355.5,308.9727,1365.5,312.9727,1355.5,316.9727,1359.5,312.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1361.5" y1="312.9727" y2="312.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="644" y="308.2305">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="657" y="308.2305">getName()</text><polygon fill="#181818" points="648,338.2832,638,342.2832,648,346.2832,644,342.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="1371.5" y1="342.2832" y2="342.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="654" y="337.541">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="667" y="337.541">name</text><polygon fill="#181818" points="1355.5,367.5938,1365.5,371.5938,1355.5,375.5938,1359.5,371.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1361.5" y1="371.5938" y2="371.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="644" y="366.8516">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="657" y="366.8516">getDescription()</text><polygon fill="#181818" points="648,396.9043,638,400.9043,648,404.9043,644,400.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="1371.5" y1="400.9043" y2="400.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="654" y="396.1621">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="676" y="396.1621">description</text><polygon fill="#181818" points="1355.5,426.2148,1365.5,430.2148,1355.5,434.2148,1359.5,430.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1361.5" y1="430.2148" y2="430.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="425.4727">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="666" y="425.4727">getImages()</text><polygon fill="#181818" points="648,455.5254,638,459.5254,648,463.5254,644,459.5254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="1371.5" y1="459.5254" y2="459.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="654" y="454.7832">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="676" y="454.7832">images</text><polygon fill="#181818" points="1071,484.8359,1081,488.8359,1071,492.8359,1075,488.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1077" y1="488.8359" y2="488.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="484.0938">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="666" y="484.0938">new()</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1083" y="467.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1090" y="488.0605">productDetails:ProductDetails</text><polygon fill="#181818" points="1174.5,526.3242,1184.5,530.3242,1174.5,534.3242,1178.5,530.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1180.5" y1="530.3242" y2="530.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="525.582">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="666" y="525.582">setSku(sku)</text><polygon fill="#181818" points="1179.5,555.6348,1189.5,559.6348,1179.5,563.6348,1183.5,559.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1185.5" y1="559.6348" y2="559.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="554.8926">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="666" y="554.8926">setName(name)</text><polygon fill="#181818" points="1184.5,584.9453,1194.5,588.9453,1184.5,592.9453,1188.5,588.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1190.5" y1="588.9453" y2="588.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="584.2031">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="666" y="584.2031">setDescription(description)</text><polygon fill="#181818" points="1189.5,614.2559,1199.5,618.2559,1189.5,622.2559,1193.5,618.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1195.5" y1="618.2559" y2="618.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="644" y="613.5137">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="666" y="613.5137">setImages(images)</text><polygon fill="#181818" points="648,643.5664,638,647.5664,648,651.5664,644,647.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="642" x2="1195.5" y1="647.5664" y2="647.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="654" y="642.8242">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="676" y="642.8242">listOfProductDetails.add(productDetails)</text><polygon fill="#181818" points="314,679.877,304,683.877,314,687.877,310,683.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="308" x2="631" y1="683.877" y2="683.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="320" y="679.1348">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="342" y="679.1348">listOfProductDetails</text><polygon fill="#181818" points="44,709.1875,34,713.1875,44,717.1875,40,713.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="297" y1="713.1875" y2="713.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="50" y="708.4453">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="72" y="708.4453">listOfProductDetails</text><!--MD5=[a999b3a3209bcc5abb05eab81a60c856]
@startuml
'https://plantuml.com/sequence-diagram


autoactivate on
autonumber

actor "Client" as client
participant "ProductsController" as controller
participant "productService:ProductsService" as service
participant "productRepo:ProductsRepository" as repository
participant "productDetails:ProductDetails" as details
participant "product:Product" as product

activate client

client -> controller: GET /products/search/{skuOrName}
controller -> service : productService.findByNameOrSuk(skuOrName)
service -> repository: productRepo.findByNameOrSuk(skuOrName)
repository - -> service: list
loop for each 'product' in 'list'
    service -> product: getSku()
    product - -> service: sku
    service -> product: getName()
    product - -> service: name
    service -> product: getDescription()
    product - -> service: description
    service -> product: getImages()
    product - -> service: images
    service -> details**: new()
    service -> details: setSku(sku)
    service -> details: setName(name)
    service -> details: setDescription(description)
    service -> details: setImages(images)
    details - -> service: listOfProductDetails.add(productDetails)
end loop
service - -> controller: listOfProductDetails
controller - -> client: listOfProductDetails


@enduml

@startuml


autoactivate on
autonumber

actor "Client" as client
participant "ProductsController" as controller
participant "productService:ProductsService" as service
participant "productRepo:ProductsRepository" as repository
participant "productDetails:ProductDetails" as details
participant "product:Product" as product

activate client

client -> controller: GET /products/search/{skuOrName}
controller -> service : productService.findByNameOrSuk(skuOrName)
service -> repository: productRepo.findByNameOrSuk(skuOrName)
repository - -> service: list
loop for each 'product' in 'list'
    service -> product: getSku()
    product - -> service: sku
    service -> product: getName()
    product - -> service: name
    service -> product: getDescription()
    product - -> service: description
    service -> product: getImages()
    product - -> service: images
    service -> details**: new()
    service -> details: setSku(sku)
    service -> details: setName(name)
    service -> details: setDescription(description)
    service -> details: setImages(images)
    details - -> service: listOfProductDetails.add(productDetails)
end loop
service - -> controller: listOfProductDetails
controller - -> client: listOfProductDetails


@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>
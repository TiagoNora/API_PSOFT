<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="459px" preserveAspectRatio="none" style="width:1190px;height:459px;background:#FFFFFF;" version="1.1" viewBox="0 0 1190 459" width="1190px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="277.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="247.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="169" y="112.7988"/><rect fill="#FFFFFF" height="227.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="472" y="142.1094"/><rect fill="#FFFFFF" height="34.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="296.6621"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="779" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="230.041"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="81.4883" y2="378.2832"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="174" x2="174" y1="81.4883" y2="378.2832"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="477" x2="477" y1="81.4883" y2="378.2832"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="783.5" x2="783.5" y1="81.4883" y2="378.2832"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1056.5" x2="1056.5" y1="81.4883" y2="378.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="78.5352">Client</text><ellipse cx="28" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,21.5 L28,48.5 M15,29.5 L41,29.5 M28,48.5 L15,63.5 M28,48.5 L41,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="390.8184">Client</text><ellipse cx="28" cy="402.2715" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,410.2715 L28,437.2715 M15,418.2715 L41,418.2715 M28,437.2715 L15,452.2715 M28,437.2715 L41,452.2715 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="113" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="120" y="70.5352">VotesController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="113" y="377.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="120" y="397.8184">VotesController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="390" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="397" y="70.5352">voteService:VoteService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="390" y="377.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="397" y="397.8184">voteService:VoteService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="648.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="655.5" y="70.5352">productRepository:ProductRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="648.5" y="377.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="655.5" y="397.8184">productRepository:ProductRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="255" x="929.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="936.5" y="70.5352">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="255" x="929.5" y="377.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="936.5" y="397.8184">reviewRepository:ReviewRepository</text><rect fill="#FFFFFF" height="277.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="247.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="169" y="112.7988"/><rect fill="#FFFFFF" height="227.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="472" y="142.1094"/><rect fill="#FFFFFF" height="34.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="477" y="296.6621"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="779" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1052" y="230.041"/><polygon fill="#181818" points="157,108.7988,167,112.7988,157,116.7988,161,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="163" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="53" y="108.0566">GET/votes/{SKU}</text><polygon fill="#181818" points="460,138.1094,470,142.1094,460,146.1094,464,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179" x2="466" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="186" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="199" y="137.3672">voteService.findAllReviewsWithVotes(sku)</text><polygon fill="#181818" points="767,167.4199,777,171.4199,767,175.4199,771,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="482" x2="773" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="489" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="502" y="166.6777">productRepository.findBySkuProduct(sku);</text><polygon fill="#181818" points="493,196.7305,483,200.7305,493,204.7305,489,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487" x2="783" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="499" y="195.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="512" y="195.9883">product</text><polygon fill="#181818" points="1040,226.041,1050,230.041,1040,234.041,1044,230.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="482" x2="1046" y1="230.041" y2="230.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="489" y="225.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="502" y="225.2988">reviewRepository.findAllWithVotes(sku);</text><polygon fill="#181818" points="493,255.3516,483,259.3516,493,263.3516,489,259.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="487" x2="1056" y1="259.3516" y2="259.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="499" y="254.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="512" y="254.6094">reviews</text><line style="stroke:#181818;stroke-width:1.0;" x1="482" x2="529" y1="283.6621" y2="283.6621"/><line style="stroke:#181818;stroke-width:1.0;" x1="529" x2="529" y1="283.6621" y2="296.6621"/><line style="stroke:#181818;stroke-width:1.0;" x1="488" x2="529" y1="296.6621" y2="296.6621"/><polygon fill="#181818" points="498,292.6621,488,296.6621,498,300.6621,494,296.6621" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="494" y="278.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="507" y="278.9199">product.setReviews(reviews)</text><polygon fill="#181818" points="190,326.9727,180,330.9727,190,334.9727,186,330.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="184" x2="471" y1="330.9727" y2="330.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="196" y="326.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="209" y="326.2305">product</text><polygon fill="#181818" points="44,356.2832,34,360.2832,44,364.2832,40,360.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="173" y1="360.2832" y2="360.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="50" y="355.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="63" y="355.541">product</text><!--MD5=[887db33d8e705fa8784b22c42e8bdfec]
@startuml
'https://plantuml.com/sequence-diagram

autoactivate on
autonumber

actor "Client" as Client
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "productRepository:ProductRepository" as productRepository
participant "reviewRepository:ReviewRepository" as reviewRepository

activate Client

Client -> Ctrl : GET/votes/{SKU}
Ctrl -> Svc : voteService.findAllReviewsWithVotes(sku)
Svc -> productRepository: productRepository.findBySkuProduct(sku);
productRepository - -> Svc: product
Svc -> reviewRepository: reviewRepository.findAllWithVotes(sku);
reviewRepository - -> Svc: reviews
Svc -> Svc: product.setReviews(reviews)
Svc - -> Ctrl: product
Ctrl - -> Client: product

@enduml

@startuml

autoactivate on
autonumber

actor "Client" as Client
participant "VotesController" as Ctrl
participant "voteService:VoteService" as Svc
participant "productRepository:ProductRepository" as productRepository
participant "reviewRepository:ReviewRepository" as reviewRepository

activate Client

Client -> Ctrl : GET/votes/{SKU}
Ctrl -> Svc : voteService.findAllReviewsWithVotes(sku)
Svc -> productRepository: productRepository.findBySkuProduct(sku);
productRepository - -> Svc: product
Svc -> reviewRepository: reviewRepository.findAllWithVotes(sku);
reviewRepository - -> Svc: reviews
Svc -> Svc: product.setReviews(reviews)
Svc - -> Ctrl: product
Ctrl - -> Client: product

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>
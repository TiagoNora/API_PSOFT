<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="562px" preserveAspectRatio="none" style="width:980px;height:562px;background:#FFFFFF;" version="1.1" viewBox="0 0 980 562" width="980px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="378.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="92.6094"/><rect fill="#FFFFFF" height="9" style="stroke:#181818;stroke-width:1.0;" width="10" x="26" y="462.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="253" y="114.9609"/><rect fill="#FFFFFF" height="39.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="253" y="431.9609"/><rect fill="#FFFFFF" height="61.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="206.0156"/><rect fill="#FFFFFF" height="100.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="850" y="371.2578"/><rect height="120.8906" style="stroke:#000000;stroke-width:1.5;fill:none;" width="329.5" x="462.5" y="221.0156"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="82.6094" y2="480.3125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="257.5" x2="257.5" y1="82.6094" y2="480.3125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="570.5" x2="570.5" y1="82.6094" y2="480.3125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="854.5" x2="854.5" y1="82.6094" y2="480.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="79.5332">Client</text><ellipse cx="26" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,21.5 L26,48.5 M13,29.5 L39,29.5 M26,48.5 L13,63.5 M26,48.5 L39,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="5" y="493.8457">Client</text><ellipse cx="26" cy="505.4219" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26,513.4219 L26,540.4219 M13,521.4219 L39,521.4219 M26,540.4219 L13,555.4219 M26,540.4219 L39,555.4219 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="187.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="194.5" y="71.5332">ModeratorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="187.5" y="479.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="194.5" y="500.8457">ModeratorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="472.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="479.5" y="71.5332">reviewService:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="472.5" y="479.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="479.5" y="500.8457">reviewService:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="735.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="742.5" y="71.5332">reviewRepository:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="735.5" y="479.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="742.5" y="500.8457">reviewRepository:ReviewRepository</text><rect fill="#FFFFFF" height="378.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="21" y="92.6094"/><rect fill="#FFFFFF" height="9" style="stroke:#181818;stroke-width:1.0;" width="10" x="26" y="462.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="253" y="114.9609"/><rect fill="#FFFFFF" height="39.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="253" y="431.9609"/><rect fill="#FFFFFF" height="61.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="566" y="206.0156"/><rect fill="#FFFFFF" height="100.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="850" y="371.2578"/><polygon fill="#181818" points="241,110.9609,251,114.9609,241,118.9609,245,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31" x2="247" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="38" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="49" y="110.1045">PUT /moderator/review/{idReview}</text><polygon fill="#181818" points="559,141.3125,569,145.3125,559,149.3125,563,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258" x2="565" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="265" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="276" y="140.4561">reviewService.changeStatus(idReview,resource)</text><polygon fill="#181818" points="843,171.6641,853,175.6641,843,179.6641,847,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="571" x2="849" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="589" y="170.8076">reviewRepository.findByIdReview(idReview);</text><polygon fill="#181818" points="587,202.0156,577,206.0156,587,210.0156,583,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="854" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="593" y="201.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="604" y="201.1592">review</text><path d="M462.5,221.0156 L523.5,221.0156 L523.5,229.3672 L513.5,239.3672 L462.5,239.3672 L462.5,221.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="120.8906" style="stroke:#000000;stroke-width:1.5;" width="329.5" x="462.5" y="221.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="477.5" y="235.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="538.5" y="234.4346">[resource.getApproved() == true]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="576" x2="618" y1="266.7188" y2="266.7188"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="618" x2="618" y1="266.7188" y2="279.7188"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="571" x2="618" y1="279.7188" y2="279.7188"/><polygon fill="#181818" points="581,275.7188,571,279.7188,581,283.7188,577,279.7188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="583" y="261.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="594" y="261.8623">review.setStatus("APPROVED")</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="462.5" x2="792" y1="283.7188" y2="283.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="467.5" y="295.1377">[resource.getApproved() == true]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="571" x2="613" y1="325.9063" y2="325.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="613" x2="613" y1="325.9063" y2="338.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="566" x2="613" y1="338.9063" y2="338.9063"/><polygon fill="#181818" points="576,334.9063,566,338.9063,576,342.9063,572,338.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="321.0498">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="589" y="321.0498">review.setStatus("REJECTED")</text><polygon fill="#181818" points="838,367.2578,848,371.2578,838,375.2578,842,371.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="571" x2="844" y1="371.2578" y2="371.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="366.4014">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="589" y="366.4014">save(review)</text><polygon fill="#181818" points="587,397.6094,577,401.6094,587,405.6094,583,401.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581" x2="849" y1="401.6094" y2="401.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="593" y="396.7529">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="604" y="396.7529">review</text><polygon fill="#181818" points="274,427.9609,264,431.9609,274,435.9609,270,431.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268" x2="565" y1="431.9609" y2="431.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="280" y="427.1045">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="291" y="427.1045">review</text><polygon fill="#181818" points="47,458.3125,37,462.3125,47,466.3125,43,462.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="41" x2="252" y1="462.3125" y2="462.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="457.4561">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="71" y="457.4561">review</text><!--MD5=[f73fa143b49deb6c55abe50bae2ec5af]
@startuml
'https://plantuml.com/sequence-diagram


autoactivate on
autonumber

actor "Client" as client
participant "ModeratorController" as controller
participant "reviewService:ReviewService" as service
participant "reviewRepository:ReviewRepository" as repository

activate client

client -> controller: PUT /moderator/review/{idReview}
controller - -> service : reviewService.changeStatus(idReview,resource)
service - -> repository: reviewRepository.findByIdReview(idReview);
repository -> service: review
alt resource.getApproved() == true
service - -> service: review.setStatus("APPROVED")
else resource.getApproved() == true
service - -> service: review.setStatus("REJECTED")
end
service -> repository: save(review)
repository -> service: review
service -> controller: review
controller -> client: review

@enduml

@startuml


autoactivate on
autonumber

actor "Client" as client
participant "ModeratorController" as controller
participant "reviewService:ReviewService" as service
participant "reviewRepository:ReviewRepository" as repository

activate client

client -> controller: PUT /moderator/review/{idReview}
controller - -> service : reviewService.changeStatus(idReview,resource)
service - -> repository: reviewRepository.findByIdReview(idReview);
repository -> service: review
alt resource.getApproved() == true
service - -> service: review.setStatus("APPROVED")
else resource.getApproved() == true
service - -> service: review.setStatus("REJECTED")
end
service -> repository: save(review)
repository -> service: review
service -> controller: review
controller -> client: review

@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>
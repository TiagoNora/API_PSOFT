<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="605px" preserveAspectRatio="none" style="width:1296px;height:605px;background:#FFFFFF;" version="1.1" viewBox="0 0 1296 605" width="1296px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="423.5254" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="393.2148" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="112.7988"/><rect fill="#FFFFFF" height="334.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="373" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="855" y="230.041"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="855" y="288.6621"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1177" y="418.082"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="81.4883" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="187.5" x2="187.5" y1="81.4883" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="377.5" x2="377.5" y1="81.4883" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="648.5" x2="648.5" y1="81.4883" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="859.5" x2="859.5" y1="81.4883" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1008.5" x2="1008.5" y1="356.7168" y2="524.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181.5" x2="1181.5" y1="81.4883" y2="524.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="78.5352">ACME</text><ellipse cx="28" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,21.5 L28,48.5 M15,29.5 L41,29.5 M28,48.5 L15,63.5 M28,48.5 L41,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="536.5488">ACME</text><ellipse cx="28" cy="548.002" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,556.002 L28,583.002 M15,564.002 L41,564.002 M28,583.002 L15,598.002 M28,583.002 L41,598.002 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="122.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="129.5" y="70.5352">ReviewController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="122.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="129.5" y="543.5488">ReviewController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="275.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="282.5" y="70.5352">reviewService:ReviewService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="275.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="282.5" y="543.5488">reviewService:ReviewService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="532.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="539.5" y="70.5352">productRepo:ProductRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="532.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="539.5" y="543.5488">productRepo:ProductRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="775.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="782.5" y="70.5352">reviewDTO:ReviewDTO</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="775.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="782.5" y="543.5488">reviewDTO:ReviewDTO</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="954.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="961.5" y="543.5488">review:Review</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1073.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1080.5" y="70.5352">reviewRepo:ReviewRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="1073.5" y="523.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="1080.5" y="543.5488">reviewRepo:ReviewRepository</text><rect fill="#FFFFFF" height="423.5254" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="393.2148" style="stroke:#181818;stroke-width:1.0;" width="10" x="183" y="112.7988"/><rect fill="#FFFFFF" height="334.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="373" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="855" y="230.041"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="855" y="288.6621"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1177" y="418.082"/><polygon fill="#181818" points="171,108.7988,181,112.7988,171,116.7988,175,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="177" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="53" y="108.0566">POST/reviews{SKU}</text><polygon fill="#181818" points="361,138.1094,371,142.1094,361,146.1094,365,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="193" x2="367" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="200" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="213" y="137.3672">create(ReviewDTO, sku)</text><polygon fill="#181818" points="632,167.4199,642,171.4199,632,175.4199,636,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="638" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="390" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="403" y="166.6777">productRepo.findBySkuProduct(sku);</text><polygon fill="#181818" points="394,196.7305,384,200.7305,394,204.7305,390,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="648" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="400" y="195.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="413" y="195.9883">product</text><polygon fill="#181818" points="843,226.041,853,230.041,843,234.041,847,230.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="849" y1="230.041" y2="230.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="390" y="225.2988">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="403" y="225.2988">getText()</text><polygon fill="#181818" points="394,255.3516,384,259.3516,394,263.3516,390,259.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="859" y1="259.3516" y2="259.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="400" y="254.6094">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="413" y="254.6094">text</text><polygon fill="#181818" points="843,284.6621,853,288.6621,843,292.6621,847,288.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="849" y1="288.6621" y2="288.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="390" y="283.9199">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="403" y="283.9199">getRating()</text><polygon fill="#181818" points="394,313.9727,384,317.9727,394,321.9727,390,317.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="859" y1="317.9727" y2="317.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="400" y="313.2305">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="413" y="313.2305">rating</text><polygon fill="#181818" points="942.5,343.2832,952.5,347.2832,942.5,351.2832,946.5,347.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="948.5" y1="347.2832" y2="347.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="390" y="342.541">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="403" y="342.541">create(text,rating)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="954.5" y="325.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="961.5" y="346.5078">review:Review</text><polygon fill="#181818" points="394,384.7715,384,388.7715,394,392.7715,390,388.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="1008" y1="388.7715" y2="388.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="400" y="384.0293">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="422" y="384.0293">review</text><polygon fill="#181818" points="1165,414.082,1175,418.082,1165,422.082,1169,418.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="1171" y1="418.082" y2="418.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="390" y="413.3398">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="412" y="413.3398">reviewRepo.save(review)</text><polygon fill="#181818" points="394,443.3926,384,447.3926,394,451.3926,390,447.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="1181" y1="447.3926" y2="447.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="400" y="442.6504">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="422" y="442.6504">ok</text><polygon fill="#181818" points="204,472.7031,194,476.7031,204,480.7031,200,476.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="198" x2="377" y1="476.7031" y2="476.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="210" y="471.9609">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="232" y="471.9609">ok</text><polygon fill="#181818" points="44,502.0137,34,506.0137,44,510.0137,40,506.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="187" y1="506.0137" y2="506.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="50" y="501.2715">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="72" y="501.2715">ok</text><!--MD5=[1fd3bc35768486b3585a26b098fc4929]
@startuml
'https://plantuml.com/sequence-diagram

autoactivate on
autonumber

actor "ACME" as User
participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as Svc
participant "productRepo:ProductRepository" as repository
participant "reviewDTO:ReviewDTO" as reviewDTO
participant "review:Review" as review
participant "reviewRepo:ReviewRepository" as Repo

activate User

User -> Ctrl : POST/reviews{SKU}

Ctrl -> Svc : create(ReviewDTO, sku)
Svc -> repository : productRepo.findBySkuProduct(sku);
repository - -> Svc : product
Svc -> reviewDTO : getText()
reviewDTO - -> Svc : text
Svc -> reviewDTO : getRating()
reviewDTO - -> Svc : rating
Svc -> review** : create(text,rating)
review - -> Svc :  review
Svc -> Repo : reviewRepo.save(review)
Repo - -> Svc : ok
Svc - -> Ctrl : ok
Ctrl - -> User : ok

@enduml

@startuml

autoactivate on
autonumber

actor "ACME" as User
participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as Svc
participant "productRepo:ProductRepository" as repository
participant "reviewDTO:ReviewDTO" as reviewDTO
participant "review:Review" as review
participant "reviewRepo:ReviewRepository" as Repo

activate User

User -> Ctrl : POST/reviews{SKU}

Ctrl -> Svc : create(ReviewDTO, sku)
Svc -> repository : productRepo.findBySkuProduct(sku);
repository - -> Svc : product
Svc -> reviewDTO : getText()
reviewDTO - -> Svc : text
Svc -> reviewDTO : getRating()
reviewDTO - -> Svc : rating
Svc -> review** : create(text,rating)
review - -> Svc :  review
Svc -> Repo : reviewRepo.save(review)
Repo - -> Svc : ok
Svc - -> Ctrl : ok
Ctrl - -> User : ok

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="448px" preserveAspectRatio="none" style="width:938px;height:448px;background:#FFFFFF;" version="1.1" viewBox="0 0 938 448" width="938px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="266.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="236.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="225" y="112.7988"/><rect fill="#FFFFFF" height="177.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="482" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="171.4199"/><rect fill="#FFFFFF" height="36.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="254.3516"/><rect height="46.6211" style="stroke:#000000;stroke-width:1.5;fill:none;" width="558" x="374.5" y="215.7305"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="81.4883" y2="367.2832"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="229.5" x2="229.5" y1="81.4883" y2="367.2832"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="486.5" x2="486.5" y1="81.4883" y2="367.2832"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="796.5" x2="796.5" y1="81.4883" y2="367.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="78.5352">Client</text><ellipse cx="28" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,21.5 L28,48.5 M15,29.5 L41,29.5 M28,48.5 L15,63.5 M28,48.5 L41,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="379.8184">Client</text><ellipse cx="28" cy="391.2715" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,399.2715 L28,426.2715 M15,407.2715 L41,407.2715 M28,426.2715 L15,441.2715 M28,426.2715 L41,441.2715 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="164.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="171.5" y="70.5352">ReviewController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="164.5" y="366.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="171.5" y="386.8184">ReviewController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="384.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="391.5" y="70.5352">reviewService:ReviewService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="384.5" y="366.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="391.5" y="386.8184">reviewService:ReviewService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="671.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="678.5" y="70.5352">reviewRepositoryReviewRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="671.5" y="366.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="678.5" y="386.8184">reviewRepositoryReviewRepository</text><rect fill="#FFFFFF" height="266.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="23" y="91.4883"/><rect fill="#FFFFFF" height="236.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="225" y="112.7988"/><rect fill="#FFFFFF" height="177.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="482" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="171.4199"/><rect fill="#FFFFFF" height="36.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="792" y="254.3516"/><polygon fill="#181818" points="213,108.7988,223,112.7988,213,116.7988,217,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="219" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="40" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="53" y="108.0566">DELETE review/{idReview}</text><polygon fill="#181818" points="470,138.1094,480,142.1094,470,146.1094,474,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="476" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="242" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="255" y="137.3672">reviewService.deleteById(idReview)</text><polygon fill="#181818" points="780,167.4199,790,171.4199,780,175.4199,784,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="786" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="499" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="512" y="166.6777">reviewRepository.findByIdReview(idReview)</text><polygon fill="#181818" points="503,196.7305,493,200.7305,503,204.7305,499,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="497" x2="796" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="509" y="195.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="522" y="195.9883">review</text><path d="M374.5,215.7305 L436.5,215.7305 L436.5,223.041 L426.5,233.041 L374.5,233.041 L374.5,215.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="558" x="374.5" y="215.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="389.5" y="229.2988">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="208" x="451.5" y="228.3652">[review.getVotes().isEmpty() == true]</text><polygon fill="#181818" points="780,250.3516,790,254.3516,780,258.3516,784,254.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492" x2="786" y1="254.3516" y2="254.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="499" y="249.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="512" y="249.6094">reviewRepository.delete(review);</text><polygon fill="#181818" points="503,286.6621,493,290.6621,503,294.6621,499,290.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="497" x2="796" y1="290.6621" y2="290.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="509" y="285.9199">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="522" y="285.9199">ok</text><polygon fill="#181818" points="246,315.9727,236,319.9727,246,323.9727,242,319.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="240" x2="486" y1="319.9727" y2="319.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="252" y="315.2305">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="265" y="315.2305">ok</text><polygon fill="#181818" points="44,345.2832,34,349.2832,44,353.2832,40,349.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="229" y1="349.2832" y2="349.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="50" y="344.541">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="63" y="344.541">ok</text><!--MD5=[7a4f53222738dbf3086591103229efa9]
@startuml
'https://plantuml.com/sequence-diagram


autoactivate on
autonumber

actor "Client" as User
participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo




activate User
User -> Ctrl : DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)
service -> repo : reviewRepository.findByIdReview(idReview)
repo - -> service: review
alt review.getVotes().isEmpty() == true
service -> repo : reviewRepository.delete(review);
end
repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> User: ok



@enduml

@startuml


autoactivate on
autonumber

actor "Client" as User
participant "ReviewController" as Ctrl
participant "reviewService:ReviewService" as service
participant "reviewRepositoryReviewRepository" as repo




activate User
User -> Ctrl : DELETE review/{idReview}
Ctrl -> service : reviewService.deleteById(idReview)
service -> repo : reviewRepository.findByIdReview(idReview)
repo - -> service: review
alt review.getVotes().isEmpty() == true
service -> repo : reviewRepository.delete(review);
end
repo - -> service: ok
service - -> Ctrl: ok
Ctrl - -> User: ok



@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>